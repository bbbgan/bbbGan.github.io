<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="449px" preserveAspectRatio="none" style="width:442px;height:449px;background:#FFFFFF;" version="1.1" viewBox="0 0 442 449" width="442px" zoomAndPan="magnify"><defs/><g><!--MD5=[9ba90c589bbf79465856ab78aa063cc8]
class EventLoop--><g id="elem_EventLoop"><rect codeLine="1" fill="#F1F1F1" height="124.4805" id="EventLoop" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="134" y="7"/><ellipse cx="162.95" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M161.5281,28.3594 Q159.6688,28.3594 158.575,26.9688 Q157.4813,25.5781 157.4813,22.5938 Q157.4813,20.0625 158.6453,18.4063 Q159.8094,16.75 161.7938,16.75 Q163.2625,16.75 163.7313,16.875 Q164.2,17.0781 164.2,17.0781 Q164.2,17.0781 164.2,17.0078 Q164.2,16.9375 164.8094,16.0156 L165.8563,19.6719 L164.5281,20.0781 Q164.0594,18.5313 163.3953,17.8672 Q162.7313,17.2031 161.6688,17.2031 Q161.2781,17.2031 160.5125,18.7344 Q159.7469,20.2656 159.7469,22.5156 Q159.7469,24.9844 160.4109,26.375 Q161.075,27.7656 161.6063,27.7656 Q162.6688,27.7656 163.4266,27 Q164.1844,26.2344 164.5281,24.5781 L165.8563,25.1719 Q165.5281,26.5781 164.6297,27.4688 Q163.7313,28.3594 161.5281,28.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="180.05" y="29.4839">EventLoop</text><line style="stroke:#181818;stroke-width:0.5;" x1="135" x2="264" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142" y="51.0601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="154" y="59.0439">poller_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142" y="70.1802"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="154" y="78.1641">activeChannels_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142" y="89.3003"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="154" y="97.2842">timerQueue_</text><line style="stroke:#181818;stroke-width:0.5;" x1="135" x2="264" y1="104.3604" y2="104.3604"/><ellipse cx="145" cy="119.4204" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="154" y="124.4043">void loop()</text></g><!--MD5=[ed5c432d72addf917b0ec3f4d3dc8dd8]
class Poller--><g id="elem_Poller"><rect codeLine="8" fill="#F1F1F1" height="67.1201" id="Poller" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="7" y="210"/><ellipse cx="30.55" cy="226" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M29.1281,231.3594 Q27.2688,231.3594 26.175,229.9688 Q25.0813,228.5781 25.0813,225.5938 Q25.0813,223.0625 26.2453,221.4063 Q27.4094,219.75 29.3938,219.75 Q30.8625,219.75 31.3313,219.875 Q31.8,220.0781 31.8,220.0781 Q31.8,220.0781 31.8,220.0078 Q31.8,219.9375 32.4094,219.0156 L33.4563,222.6719 L32.1281,223.0781 Q31.6594,221.5313 30.9953,220.8672 Q30.3313,220.2031 29.2688,220.2031 Q28.8781,220.2031 28.1125,221.7344 Q27.3469,223.2656 27.3469,225.5156 Q27.3469,227.9844 28.0109,229.375 Q28.675,230.7656 29.2063,230.7656 Q30.2688,230.7656 31.0266,230 Q31.7844,229.2344 32.1281,227.5781 L33.4563,228.1719 Q33.1281,229.5781 32.2297,230.4688 Q31.3313,231.3594 29.1281,231.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="46.45" y="232.4839">Poller</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="93" y1="242" y2="242"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="254.0601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="27" y="262.0439">epoolllfd_</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="93" y1="269.1201" y2="269.1201"/></g><!--MD5=[1e4e6ac1845d89d680410515caa0c0ac]
class Channel--><g id="elem_Channel"><rect codeLine="12" fill="#F1F1F1" height="105.3604" id="Channel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="129" y="191"/><ellipse cx="169.2" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M167.7781,212.3594 Q165.9188,212.3594 164.825,210.9688 Q163.7313,209.5781 163.7313,206.5938 Q163.7313,204.0625 164.8953,202.4063 Q166.0594,200.75 168.0438,200.75 Q169.5125,200.75 169.9813,200.875 Q170.45,201.0781 170.45,201.0781 Q170.45,201.0781 170.45,201.0078 Q170.45,200.9375 171.0594,200.0156 L172.1063,203.6719 L170.7781,204.0781 Q170.3094,202.5313 169.6453,201.8672 Q168.9813,201.2031 167.9188,201.2031 Q167.5281,201.2031 166.7625,202.7344 Q165.9969,204.2656 165.9969,206.5156 Q165.9969,208.9844 166.6609,210.375 Q167.325,211.7656 167.8563,211.7656 Q168.9188,211.7656 169.6766,211 Q170.4344,210.2344 170.7781,208.5781 L172.1063,209.1719 Q171.7781,210.5781 170.8797,211.4688 Q169.9813,212.3594 167.7781,212.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="188.8" y="213.4839">Channel</text><line style="stroke:#181818;stroke-width:0.5;" x1="130" x2="269" y1="223" y2="223"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="137" y="235.0601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="149" y="243.0439">sockfd_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="137" y="254.1802"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="149" y="262.1641">xxxCallback_</text><line style="stroke:#181818;stroke-width:0.5;" x1="130" x2="269" y1="269.2402" y2="269.2402"/><ellipse cx="140" cy="284.3003" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="149" y="289.2842">void enableXXXX()</text></g><!--MD5=[83e2d6887407fca2aa6c8e03684ff9d1]
class TimeQueue--><g id="elem_TimeQueue"><rect codeLine="18" fill="#F1F1F1" height="105.3604" id="TimeQueue" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="305.5" y="191"/><ellipse cx="331.3" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M329.8781,212.3594 Q328.0188,212.3594 326.925,210.9688 Q325.8313,209.5781 325.8313,206.5938 Q325.8313,204.0625 326.9953,202.4063 Q328.1594,200.75 330.1438,200.75 Q331.6125,200.75 332.0813,200.875 Q332.55,201.0781 332.55,201.0781 Q332.55,201.0781 332.55,201.0078 Q332.55,200.9375 333.1594,200.0156 L334.2063,203.6719 L332.8781,204.0781 Q332.4094,202.5313 331.7453,201.8672 Q331.0813,201.2031 330.0188,201.2031 Q329.6281,201.2031 328.8625,202.7344 Q328.0969,204.2656 328.0969,206.5156 Q328.0969,208.9844 328.7609,210.375 Q329.425,211.7656 329.9563,211.7656 Q331.0188,211.7656 331.7766,211 Q332.5344,210.2344 332.8781,208.5781 L334.2063,209.1719 Q333.8781,210.5781 332.9797,211.4688 Q332.0813,212.3594 329.8781,212.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="347.7" y="213.4839">TimeQueue</text><line style="stroke:#181818;stroke-width:0.5;" x1="306.5" x2="434.5" y1="223" y2="223"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="313.5" y="235.0601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="325.5" y="243.0439">timerfd_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="313.5" y="254.1802"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="325.5" y="262.1641">timerfdChannel_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="313.5" y="273.3003"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="325.5" y="281.2842">timers_</text><line style="stroke:#181818;stroke-width:0.5;" x1="306.5" x2="434.5" y1="288.3604" y2="288.3604"/></g><!--MD5=[1b844c90688aafb95cd8c95626c3b83a]
class Timer--><g id="elem_Timer"><rect codeLine="23" fill="#F1F1F1" height="86.2402" id="Timer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="323" y="356"/><ellipse cx="350.15" cy="372" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M348.7281,377.3594 Q346.8688,377.3594 345.775,375.9688 Q344.6813,374.5781 344.6813,371.5938 Q344.6813,369.0625 345.8453,367.4063 Q347.0094,365.75 348.9938,365.75 Q350.4625,365.75 350.9313,365.875 Q351.4,366.0781 351.4,366.0781 Q351.4,366.0781 351.4,366.0078 Q351.4,365.9375 352.0094,365.0156 L353.0563,368.6719 L351.7281,369.0781 Q351.2594,367.5313 350.5953,366.8672 Q349.9313,366.2031 348.8688,366.2031 Q348.4781,366.2031 347.7125,367.7344 Q346.9469,369.2656 346.9469,371.5156 Q346.9469,373.9844 347.6109,375.375 Q348.275,376.7656 348.8063,376.7656 Q349.8688,376.7656 350.6266,376 Q351.3844,375.2344 351.7281,373.5781 L353.0563,374.1719 Q352.7281,375.5781 351.8297,376.4688 Q350.9313,377.3594 348.7281,377.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="366.85" y="378.4839">Timer</text><line style="stroke:#181818;stroke-width:0.5;" x1="324" x2="417" y1="388" y2="388"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="331" y="400.0601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="343" y="408.0439">expiration_</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="331" y="419.1802"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="343" y="427.1641">callback_</text><line style="stroke:#181818;stroke-width:0.5;" x1="324" x2="417" y1="434.2402" y2="434.2402"/></g><!--MD5=[3b4a36e2e37b452d2d041c4841313a18]
reverse link EventLoop to Channel--><g id="link_EventLoop_Channel"><path codeLine="27" d="M199.5,144.77 C199.5,160.29 199.5,176.33 199.5,190.8 " fill="none" id="EventLoop-backto-Channel" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="199.5,131.3,195.5,137.3,199.5,143.3,203.5,137.3,199.5,131.3" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a238b3af3d57b369f3779c2eb622da45]
reverse link EventLoop to Poller--><g id="link_EventLoop_Poller"><path codeLine="28" d="M137.83,141.39 C117.26,165.21 95.34,190.58 78.61,209.96 " fill="none" id="EventLoop-backto-Poller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="146.55,131.3,139.5997,133.2217,138.7004,140.3765,145.6507,138.4548,146.55,131.3" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2a2f39de8a29c53d4227c472365d9135]
reverse link EventLoop to TimeQueue--><g id="link_EventLoop_TimeQueue"><path codeLine="29" d="M269.43,140.55 C286.11,157.37 303.6,175.01 319.25,190.8 " fill="none" id="EventLoop-backto-TimeQueue" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="260.27,131.3,261.6567,138.3765,268.7223,139.8182,267.3355,132.7417,260.27,131.3" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4e714df7d2c768fda103787eeccb08cf]
reverse link TimeQueue to Timer--><g id="link_TimeQueue_Timer"><path codeLine="30" d="M370.5,309.49 C370.5,325.05 370.5,341.29 370.5,355.53 " fill="none" id="TimeQueue-backto-Timer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="370.5,296.04,366.5,302.04,370.5,308.04,374.5,302.04,370.5,296.04" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3a0574597133ae26b718f85676902ab9]
@startuml EventLoopClass
class EventLoop {
- poller_
- activeChannels_
- timerQueue_
+ void loop()
}

class Poller {
- epoolllfd_
}

class Channel {
- sockfd_
- xxxCallback_
+ void enableXXXX()
}

class TimeQueue {
- timerfd_
- timerfdChannel_
- timers_
}
class Timer {
- expiration_
- callback_
}
EventLoop *- - Channel 
EventLoop *- - Poller
EventLoop *- - TimeQueue
TimeQueue *- - Timer
@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>